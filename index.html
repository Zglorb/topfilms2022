<!DOCTYPE html>
<html>
<head>
	<title>top films</title>
	<!--Link to vue js-->
	<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
	<link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
	/>
</head>
<body>
	<script type="importmap">
	{
		"imports": {
		"vue": "https://unpkg.com/vue@3/dist/vue.esm-browser.js"
		}
	}
	</script>
	<div id="app">
		<div id="bottom">
			<div v-for="(k, n) in 3" :class="`line position-${position[n]}`" :key="n">
				<div @click="roll(n)">
					<img :src="`${n + 1}.png`"/>
				</div>
				<div v-for="(user,key) in categories[categoryNb].rankings" class="card-container" @click="show(categoryNb, key, n)" :key="key">
					<div :class="`card ${user[n].hidden ? 'hidden' : 'animate__animated animate__jackInTheBox'}`" :style="`width: ${335 - (n*50)}px`" >
						<img class="background" :src="user[n].background">
						<div class="card-title" :style="`transform: rotate(${user[n].tilt}deg);`">
							{{ user[n].title }}
						</div>
					</div>
				</div>
			</div>
		</div>
		<div id="dropdown">
			<select v-model="categoryNb">
				<option v-for="(key, value) in categories" :value="value">
					{{ key.title }}
				</option>
			</select>
		</div>
	</div>

	<script type="module">
	import { createApp } from 'vue'

	createApp({
		data() {
		return {
			message: 'Hello Vue!',
			categoryNb: 0,
			rank: 0,
			position: [0, 1, 2],
			categories: [{
				title: "Top 3 Films 2022",
				rankings: {
					"Terracid": [{
						title: "The Matrix",
						background: "https://www.impawards.com/2011/posters/war_horse_ver3.jpg",
						hidden: true}
					,
					{
						title: "The Matrix Reloaded",
						background: "http://www.impawards.com/2021/posters/med_last_night_in_soho.jpg",
						hidden: true}
					,
					{
						title: "The Matrix Revolutions",
						background: "https://www.impawards.com/2010/posters/inception_ver2.jpg",
						hidden: true}]
					,
					"Potatoz": [
						{
							title: "Jurassic Park",
							background: "http://www.impawards.com/2011/posters/hugo_ver2.jpg",
							hidden: true}
						,
						{
							title: "Jurassic Park: The Lost World dsqdsq  dsq d qsd ",
							background: "http://www.impawards.com/2021/posters/med_malignant.jpg",
							hidden: true}
						,
						{
							title: "Jurassic Park III",
							background: "https://www.impawards.com/2011/posters/midnight_in_paris_ver4.jpg",
							hidden: true
						}
					],
					"Potatoz2": [
						{
							title: "Jurassic Park",
							background: "http://www.impawards.com/2011/posters/mission_impossible_ghost_protocol_ver2.jpg",
							hidden: true}
						,
						{
							title: "Jurassic Park: The Lost World dsqdsq  dsq d qsd ",
							background: "http://www.impawards.com/2021/posters/med_night_house.jpg",
							hidden: true}
						,
						{
							title: "Jurassic Park III",
							background: "http://www.impawards.com/2021/posters/med_antlers_ver2.jpg",
							hidden: true
						}
					],
					"Potatoz3": [
						{
							title: "Jurassic Park",
							background: "https://www.impawards.com/2011/posters/moneyball_ver2.jpg",
							hidden: true}
						,
						{
							title: "Jurassic Park: The Lost World dsqdsq  dsq d qsd ",
							background: "http://www.impawards.com/2021/posters/med_old_ver2.jpg",
							hidden: true}
						,
						{
							title: "Jurassic Park III",
							background: "https://www.impawards.com/2011/posters/tinker_tailor_soldier_spy_ver2.jpg",
							hidden: true
						}
					],
					"Potatoz4": [
						{
							title: "Jurassic Park",
							background: "https://www.impawards.com/2011/posters/drive_ver3.jpg",
							hidden: true}
						,
						{
							title: "Jurassic Park: The Lost World dsqdsq  dsq d qsd ",
							background: "http://www.impawards.com/2021/posters/med_old_ver2.jpg",
							hidden: true}
						,
						{
							title: "Jurassic Park III",
							background: "https://www.impawards.com/2011/posters/warrior_ver2.jpg",
							hidden: true
						}
					]
				}
			},
			{
				title: "Top 3 Series 2022",
				rankings: {
					"Terracid": [{
						title: "The Matrix",
						background: "https://www.impawards.com/2011/posters/war_horse_ver3.jpg",
						hidden: true}
					,
					{
						title: "The Matrix Reloaded",
						background: "http://www.impawards.com/2021/posters/med_last_night_in_soho.jpg",
						hidden: true}
					,
					{
						title: "The Matrix Revolutions",
						background: "https://www.impawards.com/2010/posters/inception_ver2.jpg",
						hidden: true}]
					,
					"Potatoz": [
						{
							title: "Jurassic Park",
							background: "http://www.impawards.com/2011/posters/hugo_ver2.jpg",
							hidden: true}
						,
						{
							title: "Jurassic Park: The Lost World dsqdsq  dsq d qsd ",
							background: "http://www.impawards.com/2021/posters/med_malignant.jpg",
							hidden: true}
						,
						{
							title: "Jurassic Park III",
							background: "https://www.impawards.com/2011/posters/midnight_in_paris_ver4.jpg",
							hidden: true
						}
					],
					"Potatoz2": [
						{
							title: "Jurassic Park",
							background: "http://www.impawards.com/2011/posters/mission_impossible_ghost_protocol_ver2.jpg",
							hidden: true}
						,
						{
							title: "Jurassic Park: The Lost World dsqdsq  dsq d qsd ",
							background: "http://www.impawards.com/2021/posters/med_night_house.jpg",
							hidden: true}
						,
						{
							title: "Jurassic Park III",
							background: "http://www.impawards.com/2021/posters/med_antlers_ver2.jpg",
							hidden: true
						}
					],
					"Potatoz3": [
						{
							title: "Jurassic Park",
							background: "https://www.impawards.com/2011/posters/moneyball_ver2.jpg",
							hidden: true}
						,
						{
							title: "Jurassic Park: The Lost World dsqdsq  dsq d qsd ",
							background: "http://www.impawards.com/2021/posters/med_old_ver2.jpg",
							hidden: true}
						,
						{
							title: "Jurassic Park III",
							background: "https://www.impawards.com/2011/posters/tinker_tailor_soldier_spy_ver2.jpg",
							hidden: true
						}
					],
					"Potatoz4": [
						{
							title: "Jurassic Park",
							background: "https://www.impawards.com/2011/posters/drive_ver3.jpg",
							hidden: true}
						,
						{
							title: "Jurassic Park: The Lost World dsqdsq  dsq d qsd ",
							background: "http://www.impawards.com/2021/posters/med_old_ver2.jpg",
							hidden: true}
						,
						{
							title: "Jurassic Park III",
							background: "https://www.impawards.com/2011/posters/warrior_ver2.jpg",
							hidden: true
						}
					]
				}
			},
		]
		}
		},
		mounted(){
			for(let category of this.categories){
				console.log(category.rankings)
				for(let ranking in category.rankings){
					for(let movie of category.rankings[ranking]){
						movie.tilt = this.randomTilt()
					}
				}
			}
		},
		methods:{
				randomTilt(){
					return Math.random() * 10 - 5
				},
				roll(n){
					let clickedOn = this.position[n]
					let firstIndex = this.position.findIndex((e) => e == 0);
					console.log(firstIndex)
					// this.position[firstIndex] = clickedOn
					this.position[n] = 0
					let x = 1;
					for(let i = 0; i < 3; i++){
						if (i != n){
							this.position[i] = x
							x++
						}
					}
				},
				show(category, user, index){
					this.categories[category].rankings[user][index].hidden = !this.categories[category].rankings[user][index].hidden
				},
			},
	}).mount('#app')
	</script>
</body>
<style>
	@font-face {
		font-family: trinstam;
		src: url(Trinstam.ttf);
	}
	#bottom{
		position: absolute;
		bottom: 500px;
	}
	#app{
		height: 1080px;
		width: 1920px;
	}
	#dropdown{
		position: relative;
		bottom: 0;
	}
	.line {
		position: absolute;
		display: flex;
		flex-direction: row;
		align-items: center;
		transition: top 2s ease 0s; /* only transition top property */
		top: 0;
	}
	.position-0{
		top: 0;
		z-index: 1;
		transition: top 2s ease 0s; 
	}
	.position-1{
		top: 150px;
		z-index: 2;
		transition: top 2s ease 0s; 
	}
	.position-2{
		transition: top 2s ease 0s;
		top: 300px;
		z-index: 3;
	}
	/* .line:nth-of-type(1) {
		margin-bottom: -55px;
	}
	.line:nth-child(2) {
		margin-bottom: -55px;
	} */
	.hidden {
		visibility: hidden;
	}
	.card-container {
		user-select: none;
		display: flex;
		justify-content: center;
		align-items: center;
		width: 335px;
		height: 100px;
		cursor: pointer;
	}
	.card {
		display: flex;
		justify-content: center;
		align-items: center;
		position: relative;
		/* width: 300px; */
		height: 125px;
		margin: 0 10px;
		border-radius: 10px;
		padding-left: 5px;
		overflow: hidden;
		padding-right: 5px;
		box-shadow: -5px 7px 12px -1px #000000;
	}
	.card-title {
		color: white;
		font-size: 30px;
		font-weight: bold;
		text-align: center;
		font-family: trinstam;
	}
	img.background {
      position: absolute;
      left: 0px;
      top: 0px;
      z-index: -1;
      width: 100%;
      height: 100%;
      filter: blur(5px) brightness(0.5);
    }
</style>
</html>